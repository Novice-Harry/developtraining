### forEach()跳出循环

```js
// 定义一个数组
let arr = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14]
// 期望：forEach  5的时候跳出循环
arr.forEach((item, index) => {
    console.log('我在循环' + item);
})
```

1️⃣抛出错误的形式

```js
arr.forEach((item, index) => {
    if (item == 5) {
        throw new Error("跳出来了")
    }
    console.log('我还在循环' + item);
})
console.log('后续代码');
```

> 有个问题，这样跳出后可以看到控制台有报错，而且后续代码无法继续执行了
>
> ![](http://43.143.238.5/%E5%9B%BE/error1.png)
>
> 解决办法 try catch
>
> ```js
> try {
> 	arr.forEach((item, index) => {
> 		if (item == 5) {
> 			throw new Error("跳出来了")
> 		}
> 		console.log(item);
> 	})
> } catch (error) { console.log(error); }
> ```

2️⃣一种不需要抛出错误但离谱的解决方式

```js
arr.forEach((item,index) => {
    if (item == 5) {
        arr.splice(index)
    }
    console.log(item);
})
```

> 怕改动原数据可以拷贝一份



### 几道小题

1️⃣输出结果

```js
var a = 10;
function foo() {
    console.log(a)
    var a = 10;
}
foo()
```

2️⃣函数中var换成let 呢

```js
var a = 10;
function foo() {
    console.log(a)
    let a = 10;
}
foo()
// 暂时性死区
```

3️⃣obj.getX() 和 newGetX() 结果

```js
var x = 10;
var obj = {
    x: 100,
    getX: function () {
        return this.x
    }
}

var newGetX = obj.getX
obj.getX()
newGetX()
// this指向
```

